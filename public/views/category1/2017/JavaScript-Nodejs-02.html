<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript-Nodejs-02 | Sumind&#39;s Blog</title>
    <meta name="description" content="做一个有灵魂的前端工程师">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.75dd9f78.css" as="style"><link rel="preload" href="/assets/js/app.a9f6d8ec.js" as="script"><link rel="preload" href="/assets/js/4.f605a52d.js" as="script"><link rel="preload" href="/assets/js/1.a2510d10.js" as="script"><link rel="preload" href="/assets/js/25.66f6d5cc.js" as="script"><link rel="prefetch" href="/assets/js/10.96e33a09.js"><link rel="prefetch" href="/assets/js/11.ce91667a.js"><link rel="prefetch" href="/assets/js/12.3fed3056.js"><link rel="prefetch" href="/assets/js/13.41117cae.js"><link rel="prefetch" href="/assets/js/14.0a836303.js"><link rel="prefetch" href="/assets/js/15.c7a70042.js"><link rel="prefetch" href="/assets/js/16.eda894ef.js"><link rel="prefetch" href="/assets/js/17.9972567d.js"><link rel="prefetch" href="/assets/js/18.5c2087d9.js"><link rel="prefetch" href="/assets/js/19.9e5909ec.js"><link rel="prefetch" href="/assets/js/20.81cf4463.js"><link rel="prefetch" href="/assets/js/21.b1896877.js"><link rel="prefetch" href="/assets/js/22.3058e867.js"><link rel="prefetch" href="/assets/js/23.76b75888.js"><link rel="prefetch" href="/assets/js/24.cb2b6224.js"><link rel="prefetch" href="/assets/js/26.d3ba5339.js"><link rel="prefetch" href="/assets/js/27.1b1cd18a.js"><link rel="prefetch" href="/assets/js/28.d0ca9393.js"><link rel="prefetch" href="/assets/js/29.a10472bb.js"><link rel="prefetch" href="/assets/js/30.13388d66.js"><link rel="prefetch" href="/assets/js/31.cd6ba917.js"><link rel="prefetch" href="/assets/js/32.097ed36d.js"><link rel="prefetch" href="/assets/js/33.e6ea0697.js"><link rel="prefetch" href="/assets/js/34.896ec5ef.js"><link rel="prefetch" href="/assets/js/35.9bd942f7.js"><link rel="prefetch" href="/assets/js/36.2b774afe.js"><link rel="prefetch" href="/assets/js/37.098262ce.js"><link rel="prefetch" href="/assets/js/38.6a5cbac5.js"><link rel="prefetch" href="/assets/js/39.03cc91d2.js"><link rel="prefetch" href="/assets/js/40.8d0a7377.js"><link rel="prefetch" href="/assets/js/41.dea6138e.js"><link rel="prefetch" href="/assets/js/42.555d373d.js"><link rel="prefetch" href="/assets/js/43.b47eb251.js"><link rel="prefetch" href="/assets/js/44.1ffd7b5b.js"><link rel="prefetch" href="/assets/js/45.cfb5da00.js"><link rel="prefetch" href="/assets/js/46.a56b9b85.js"><link rel="prefetch" href="/assets/js/47.4f781dff.js"><link rel="prefetch" href="/assets/js/48.4f542143.js"><link rel="prefetch" href="/assets/js/49.5c2eb801.js"><link rel="prefetch" href="/assets/js/5.e7fbaf2f.js"><link rel="prefetch" href="/assets/js/50.4fb88d7e.js"><link rel="prefetch" href="/assets/js/51.9028fef6.js"><link rel="prefetch" href="/assets/js/52.abb81def.js"><link rel="prefetch" href="/assets/js/6.896bf5be.js"><link rel="prefetch" href="/assets/js/7.b5260bec.js"><link rel="prefetch" href="/assets/js/8.5b3b73d8.js"><link rel="prefetch" href="/assets/js/9.eba5c3f6.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.2553b2f0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.75dd9f78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/01.jpg" alt="Sumind's Blog" class="logo"> <span class="site-name">Sumind's Blog</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">是否开启夜览模式？</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/技术.html" class="nav-link"><i class="iconfont undefined"></i>
  技术
</a></li><li class="dropdown-item"><!----> <a href="/category/总结.html" class="nav-link"><i class="iconfont undefined"></i>
  总结
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  生活
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/技术.html" class="nav-link"><i class="iconfont undefined"></i>
  技术
</a></li><li class="dropdown-item"><!----> <a href="/category/总结.html" class="nav-link"><i class="iconfont undefined"></i>
  总结
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  生活
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript-Nodejs-02</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-http-协议" class="sidebar-link">1. HTTP 协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-1-http-协议概述" class="sidebar-link">1.1 HTTP 协议概述</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-2-请求报文" class="sidebar-link">1.2 请求报文</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-3-响应报文" class="sidebar-link">1.3 响应报文</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-4-ajax请求遵循-http协议" class="sidebar-link">1.4 Ajax请求遵循 HTTP协议</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_1-5-小结" class="sidebar-link">1.5 小结</a></li></ul></li><li><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_2-web服务器" class="sidebar-link">2. Web服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_2-1-什么是服务器？" class="sidebar-link">2.1 什么是服务器？</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_2-2-web服务器" class="sidebar-link">2.2 Web服务器</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_2-3-服务器有什么作用" class="sidebar-link">2.3 服务器有什么作用</a></li></ul></li><li><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-使用apache演示服务器" class="sidebar-link">3. 使用Apache演示服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-1-介绍" class="sidebar-link">3.1 介绍</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-2-下载" class="sidebar-link">3.2 下载</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-3-安装" class="sidebar-link">3.3 安装</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-4-安装目录介绍" class="sidebar-link">3.4 安装目录介绍</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_3-5-使用apache展示静态网站" class="sidebar-link">3.5 使用Apache展示静态网站</a></li></ul></li><li><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-网络的基础概念" class="sidebar-link">4. 网络的基础概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-1-url组成" class="sidebar-link">4.1 URL组成</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-2-ip-地址" class="sidebar-link">4.2 IP 地址</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-3-域名" class="sidebar-link">4.3 域名</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-4-端口" class="sidebar-link">4.4 端口</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-5-dns" class="sidebar-link">4.5 DNS</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-6-发起tcp请求" class="sidebar-link">4.6 发起TCP请求</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-7-访问网站时请求响应流程" class="sidebar-link">4.7 访问网站时请求响应流程</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-8-c-s-与-b-s" class="sidebar-link">4.8 C/S 与 B/S</a></li><li class="sidebar-sub-header"><a href="/views/category1/2017/JavaScript-Nodejs-02.html#_4-9-静态网站和动态网站" class="sidebar-link">4.9 静态网站和动态网站</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>JavaScript-Nodejs-02</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>Sumind</span></i> <i class="iconfont reco-date" data-v-0b496ca7><span data-v-0b496ca7>2017-7-22</span></i> <!----> <!----></div></div> <div class="content__default"><h5 id="javascript-nodejs-02"><a href="#javascript-nodejs-02" aria-hidden="true" class="header-anchor">#</a> JavaScript-Nodejs-02</h5> <p>JavaScript-Nodejs</p> <h1 id="网络基础"><a href="#网络基础" aria-hidden="true" class="header-anchor">#</a> 网络基础</h1> <h2 id="_1-http-协议"><a href="#_1-http-协议" aria-hidden="true" class="header-anchor">#</a> 1. HTTP 协议</h2> <h3 id="_1-1-http-协议概述"><a href="#_1-1-http-协议概述" aria-hidden="true" class="header-anchor">#</a> 1.1 HTTP 协议概述</h3> <ul><li>HTTP(HyperText Transfer Protocol) 超文本传输协议</li> <li>HTTP 是一种能够获取如 HTML 这样的网络资源的 <a href="https://developer.mozilla.org/en-US/docs/Glossary/protocol" target="_blank" rel="noopener noreferrer">protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (通讯协议)。</li> <li>是一种 client客户端 - server服务器 同时要遵守的协议，就是浏览器和服务器双方 “签订” 的一个协议</li> <li>请求通常是由像浏览器这样的接受方发起的</li> <li>==HTTP 协议中规定了请求数据和响应数据的格式(<strong>报文</strong>)==</li></ul> <h3 id="_1-2-请求报文"><a href="#_1-2-请求报文" aria-hidden="true" class="header-anchor">#</a> 1.2 请求报文</h3> <ul><li><p>请求报文</p> <ul><li>浏览器再向服务器发送请求的时候，会携带的数据</li> <li>该数据是特定格式的字符串</li> <li>可以使用 chrome 监视请求并查看请求报文</li></ul></li> <li><p>请求报文格式</p> <p><strong>==GET方式请求没有请求体、POST方式有请求体，请求体就是发送给服务器的数据==</strong></p> <ul><li><p>请求行</p> <ul><li><p>请求方法(常见的 GET 和 POST)</p></li> <li><p>请求路径</p></li> <li><p>协议版本</p> <div class="language-http line-numbers-mode"><pre class="language-http"><code>GET / HTTP/1.1
<span class="token request-line"><span class="token property">GET</span> /index.html HTTP/1.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>请求头</p> <ul><li>浏览器在向服务器发送请求的时候携带了附加信息</li> <li>由键值对组成</li> <li>如果需要设置请求头，使用setRequestHeader方法来设置</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank" rel="noopener noreferrer">参考链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <table><thead><tr><th>键</th> <th>值</th></tr></thead> <tbody><tr><td>Host</td> <td>请求的主机</td></tr> <tr><td>Cache-Control</td> <td>控制缓存（例如：max-age=60 缓存 60 秒）</td></tr> <tr><td>Accept</td> <td>客户端想要接收的文档类型，逗号分隔</td></tr> <tr><td>==User-Agent==</td> <td>标识什么客户端帮你发送的这次请求，可以看出发请求的浏览器是什么浏览器</td></tr> <tr><td>Referer</td> <td>这次请求的来源</td></tr> <tr><td>Accept-Encoding</td> <td>可以接受的压缩编码</td></tr></tbody></table></li> <li><p>请求体</p> <ul><li>GET 请求==没有==请求体</li> <li>POST 请求有请求体，请求体就是发送给服务器的数据</li></ul></li></ul></li></ul> <h3 id="_1-3-响应报文"><a href="#_1-3-响应报文" aria-hidden="true" class="header-anchor">#</a> 1.3 响应报文</h3> <ul><li><p>响应报文组成</p> <ul><li><p>响应行</p> <ul><li><p>协议版本</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> <span class="token constant">OK</span>
<span class="token comment">// 需要注意的是200，它表示状态码</span>
<span class="token comment">// 状态码：</span>
<span class="token comment">// - 描述了请求过程中所发生的情况</span>
<span class="token comment">// - 每个状态码的第一位数字都用于描述状态的一般类别(&quot;成功&quot;、&quot;出错&quot;等)</span>
<span class="token comment">// - 常见状态码</span>
<span class="token comment">//   - 200 - 成功</span>
<span class="token comment">//   - 404 - 请求的资源不存在</span>
<span class="token comment">//   - 500 - 服务器内部错误</span>
<span class="token comment">// 参考链接 https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></li> <li><p>响应头</p> <ul><li>服务器返回响应的时候携带了附加信息</li> <li>由键值对组成</li></ul> <table><thead><tr><th>键</th> <th>值</th></tr></thead> <tbody><tr><td>Date</td> <td>响应时间</td></tr> <tr><td>Server</td> <td>服务器信息</td></tr> <tr><td><strong>Content-Type</strong></td> <td>响应体的内容类型</td></tr> <tr><td>Content-Length</td> <td>响应的内容大小</td></tr></tbody></table></li> <li><p><strong>响应体</strong></p> <ul><li>返回的主体内容，如果请求的是网页返回网页的内容，如果请求的是图片返回图片的内容</li></ul></li></ul></li></ul> <blockquote><p>请求头有Content-Type：application/x-www-form-urlencoded 告诉服务器，发送给你的数据是什么编码的</p> <p>响应头有Content-Type：text/html; charset=utf-8 服务器告诉浏览器，返回的数据是html。编码是utf-8</p></blockquote> <h3 id="_1-4-ajax请求遵循-http协议"><a href="#_1-4-ajax请求遵循-http协议" aria-hidden="true" class="header-anchor">#</a> 1.4 Ajax请求遵循 HTTP协议</h3> <p>Ajax请求也要符合http协议。</p> <p>本质上 XMLHttpRequest 就是 JavaScript 在 Web 平台中发送 HTTP 请求的手段，所以我们发送出去的请求任然是 HTTP 请求，同样符合 HTTP 约定的格式：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 设置请求报文的请求行</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/time'</span><span class="token punctuation">)</span>
<span class="token comment">// 设置请求头</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Accept'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span>
<span class="token comment">// 设置请求体</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取响应状态码</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">)</span>
    <span class="token comment">// 获取响应状态描述</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>statusText<span class="token punctuation">)</span>
    <span class="token comment">// 获取响应头信息</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getResponseHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 指定响应头</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 全部响应头</span>
    <span class="token comment">// 获取响应体</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span> <span class="token comment">// 文本形式</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseXML<span class="token punctuation">)</span> <span class="token comment">// XML 形式，了解即可不用了</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>参考链接：</p> <ul><li>https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest</li> <li>https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest</li></ul></blockquote> <h3 id="_1-5-小结"><a href="#_1-5-小结" aria-hidden="true" class="header-anchor">#</a> 1.5 小结</h3> <ul><li>HTTP 是浏览器和服务器“签订”的一个协议，它规定了请求数据和响应数据的格式，即请求报文和响应报文的格式</li> <li>请求报文
<ul><li>请求行
<ul><li>调用open方法，设置请求行，请求行体现了请求方式和请求的url</li></ul></li> <li>请求头
<ul><li>调用setRequestHeader方法来设置，比如 xhr.setRequestHeader('Content-type', 'xxxxx');</li></ul></li> <li>请求体
<ul><li>send的参数就是请求体，所以GET方法没有请求体，只有POST请求有请求体，请求体就是发送给服务器的数据</li></ul></li></ul></li> <li>响应报文
<ul><li>响应行
<ul><li>xhr.status  可以获取响应行中的状态码</li> <li>xhr.statusText 可以获取响应行中的状态描述信息</li></ul></li> <li>响应头
<ul><li>xhr.getResponseHeader('Content-Type');  可以获取到响应头中的Content-Type</li> <li>xhr.getAllResponseHeaders();  可以获取所有的响应头</li></ul></li> <li>响应体
<ul><li>xhr.response; 获取响应体</li> <li>xhr.responseText; 获取文本类型的响应体</li></ul></li></ul></li></ul> <h2 id="_2-web服务器"><a href="#_2-web服务器" aria-hidden="true" class="header-anchor">#</a> 2. Web服务器</h2> <p>问题: 当我们写好一个html文件，放在桌面上时，别人能不能通过浏览器访问？
答: 不行。 必须将我们的html文件放入web服务器，其他人通过网络才能访问。</p> <p>服务器作用：</p> <p>只有放到服务器上的资源（html、css、js、图像、数据），才能被所有人访问</p> <h3 id="_2-1-什么是服务器？"><a href="#_2-1-什么是服务器？" aria-hidden="true" class="header-anchor">#</a> 2.1 什么是服务器？</h3> <p>服务器可以从硬件、软件(系统软件、应用软件)两个角度描述。</p> <ul><li>按硬件描述
<ul><li>服务器就是一台超级计算机。可以达到常年不关机。</li></ul></li> <li>按系统划分
<ul><li>在硬件上安装了什么操作系统，就可以称为该系统的服务器</li> <li>例如:  linux服务器、windows服务器、unix服务器等。</li></ul></li> <li>按软件划分
<ul><li>在操作系统中安装了什么软件，就可以称作该软件的服务器</li> <li>例如:  Apache服务器、MySQL服务器、邮件服务器等。</li></ul></li></ul> <h3 id="_2-2-web服务器"><a href="#_2-2-web服务器" aria-hidden="true" class="header-anchor">#</a> 2.2 Web服务器</h3> <p>Web服务器就是安装了Web服务软件，能够提供网站服务的服务器。</p> <ul><li><p>常见的Web服务器软件：</p> <ul><li>Apache、Nginx、IIS、Tomcat、Nodejs 等。</li> <li>我们学习时用的是app-win.exe</li></ul> <p>PS: web服务器又叫做http/httpd服务器</p></li></ul> <h3 id="_2-3-服务器有什么作用"><a href="#_2-3-服务器有什么作用" aria-hidden="true" class="header-anchor">#</a> 2.3 服务器有什么作用</h3> <ul><li>服务器用于保存开发好的网页和网页中用到的数据</li> <li>通过服务器的IP地址或域名可以访问到服务器上的资源(网页或数据接口)
<ul><li>只要是能够连接到服务器，任何人都可以访问服务器上的资源</li></ul></li></ul> <h2 id="_3-使用apache演示服务器"><a href="#_3-使用apache演示服务器" aria-hidden="true" class="header-anchor">#</a> 3. 使用Apache演示服务器</h2> <h3 id="_3-1-介绍"><a href="#_3-1-介绍" aria-hidden="true" class="header-anchor">#</a> 3.1 介绍</h3> <p>WampServer软件是一个集成环境，包含了：Apache、MySQL等服务器软件。 我们安装该软件之后，就是在自己电脑上安装了 Apache服务器和MySQL服务器。</p> <p>W：windows</p> <p>a：Apache</p> <p>m：MySQL</p> <p>p：php</p> <p>类似的软件： PHPstudy、PHPnow等等</p> <h3 id="_3-2-下载"><a href="#_3-2-下载" aria-hidden="true" class="header-anchor">#</a> 3.2 下载</h3> <p>下载：<a href="https://sourceforge.net/projects/wampserver/" target="_blank" rel="noopener noreferrer">https://sourceforge.net/projects/wampserver/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_3-3-安装"><a href="#_3-3-安装" aria-hidden="true" class="header-anchor">#</a> 3.3 安装</h3> <h4 id="_1）安装之前要检测计算机的端口是否被占用了"><a href="#_1）安装之前要检测计算机的端口是否被占用了" aria-hidden="true" class="header-anchor">#</a> 1）安装之前要检测计算机的端口是否被占用了</h4> <ul><li><p>直接用管理员身份，打开命令提示符</p> <p>执行命令：netstat -anb  查看 80端口和3306端口是否被占用了</p> <p>80 端口是Apache软件默认的端口</p> <p>3306是MySQL软件默认的端口</p> <p>如果端口被占用了，查看是哪个程序占用了端口，最后去任务管理器中，结束该程序的任务。</p></li></ul> <h4 id="_2）安装目录必须是英文目录"><a href="#_2）安装目录必须是英文目录" aria-hidden="true" class="header-anchor">#</a> 2）安装目录必须是英文目录</h4> <p>安装目录中不能包含中文。</p> <p>==核心重点：  安装任何与开发相关的软件时都必须安装到英文路径下。== (不安装到英文路径下可能产生未知的错误)</p> <h4 id="_3）允许-apache-和-mysql-访问网络"><a href="#_3）允许-apache-和-mysql-访问网络" aria-hidden="true" class="header-anchor">#</a> 3）允许 Apache 和 MySQL 访问网络</h4> <p>安装过程中，如果出现防火墙的问题，则需要允许</p> <h4 id="_4）安装"><a href="#_4）安装" aria-hidden="true" class="header-anchor">#</a> 4）安装</h4> <p>后续next，完成安装即可。</p> <h4 id="_5）安装完毕，查看图标"><a href="#_5）安装完毕，查看图标" aria-hidden="true" class="header-anchor">#</a> 5）安装完毕，查看图标</h4> <h4 id="_6-测试"><a href="#_6-测试" aria-hidden="true" class="header-anchor">#</a> 6) 测试</h4> <p>浏览器输入127.0.0.1 看效果：</p> <p><strong>到此为止，一个集成了Apache和MySQL的软件（WampServer）就安装好了</strong>。</p> <h3 id="_3-4-安装目录介绍"><a href="#_3-4-安装目录介绍" aria-hidden="true" class="header-anchor">#</a> 3.4 安装目录介绍</h3> <h3 id="_3-5-使用apache展示静态网站"><a href="#_3-5-使用apache展示静态网站" aria-hidden="true" class="header-anchor">#</a> 3.5 使用Apache展示静态网站</h3> <p>将品优购所有页面都复制到www目录中，然后通过浏览器 127.0.0.1 就可以访问到品优购的页面了。</p> <h2 id="_4-网络的基础概念"><a href="#_4-网络的基础概念" aria-hidden="true" class="header-anchor">#</a> 4. 网络的基础概念</h2> <h3 id="_4-1-url组成"><a href="#_4-1-url组成" aria-hidden="true" class="header-anchor">#</a> 4.1 URL组成</h3> <p>URL（Uniform Resource Locator），统一资源定位符，通俗点来说就是表示网络当中某一个网页的完整访问地址，它具有一定的格式：<code>协议://主机地址[:端口]/路径?查询字符串#锚点</code></p> <ul><li>协议
<ul><li>http</li> <li>https</li></ul></li> <li>主机地址，网站服务器的地址
<ul><li>IP地址</li> <li>域名</li></ul></li> <li>端口
<ul><li>http请求，默认端口80</li> <li>https请求，默认端口443</li> <li>MySQL默认端口3306</li> <li>访问一个网页的时候，默认端口可以省略</li></ul></li> <li>路径
<ul><li>服务器文件夹上的资源（html/css/images/js/接口）</li></ul></li> <li>参数（查询字符串）
<ul><li>? 后面的部分，是键值对的形式</li></ul></li></ul> <p>例如：http://itcast.cn:80/schools/students?id=18&amp;name=zs#photo</p> <p>URL作用：标示网络上的资源</p> <h3 id="_4-2-ip-地址"><a href="#_4-2-ip-地址" aria-hidden="true" class="header-anchor">#</a> 4.2 IP 地址</h3> <blockquote><p>Internet Protocol Address</p></blockquote> <ul><li>作用就是标识一个网络设备（计算机、手机、电视）在<strong>某一个具体的网络</strong>当中的地址。</li> <li>设备在某一个网络中的地址，目前最常见的格式：<code>[0-255].[0-255].[0-255].[0-255]</code> 即为四个 0-255 的数字组成。</li> <li>在同一个网络中，计算机的IP是不允许相同的，都是唯一的</li> <li>127.0.0.1 是本地回环地址，该地址永远可以访问到自己的计算机</li></ul> <h4 id="_4-2-1-单个网络情况"><a href="#_4-2-1-单个网络情况" aria-hidden="true" class="header-anchor">#</a> 4.2.1 单个网络情况</h4> <p>在单个局域网下，结构非常简单，就是我们所连接的网络设备（网关）给我们分配了一个地址，在<strong>这个范围之内</strong>我们都可以通过这个地址找到我们的这个设备。</p> <blockquote><p>如果设备没有连接任何网络情况下，我们会有一个本地回环地址 127.0.0.1</p></blockquote> <h4 id="_4-2-2-多个网络情况"><a href="#_4-2-2-多个网络情况" aria-hidden="true" class="header-anchor">#</a> 4.2.2 多个网络情况</h4> <p>但是当一个设备同时处于多个网络下（比如同时连接了有线网卡和无线网卡），就会变得稍微复杂一点：</p> <h3 id="_4-3-域名"><a href="#_4-3-域名" aria-hidden="true" class="header-anchor">#</a> 4.3 域名</h3> <p>由于 IP 地址都是没有规律的一些数字组成的，很难被人记住，不利于广泛传播，所以就有人想出来要给 IP 起名字（别名）。</p> <blockquote><p>域名是需要花钱注册的</p> <p>购买到域名需要解析到你的web服务器，即让他和服务器IP对应上</p></blockquote> <h4 id="_4-3-1-顶级域名（了解）"><a href="#_4-3-1-顶级域名（了解）" aria-hidden="true" class="header-anchor">#</a> 4.3.1 顶级域名（了解）</h4> <p>.com: 商业机构
.cn: 中国国家、地区域名 .hk,
.gov: 政府网站。
.org: 机构。
.edu: 教育网站。
.net: 网络服务商。
.mil: 军事。</p> <h4 id="_4-3-2-特殊的域名"><a href="#_4-3-2-特殊的域名" aria-hidden="true" class="header-anchor">#</a> 4.3.2 特殊的域名</h4> <p><code>localhost</code> 含义为本地主机，对应127.0.0.1 。这是一个保留域名，主要用于本地测试。</p> <h3 id="_4-4-端口"><a href="#_4-4-端口" aria-hidden="true" class="header-anchor">#</a> 4.4 端口</h3> <p>计算机本身是一个封闭的环境，就像是一个大楼，如果需要有数据通信往来，必须有门，这个门在术语中就叫端口，每一个端口都有一个编号，每台计算机只有 65536 个端口（0-65535）。</p> <blockquote><p>一般我们把“占门”的过程叫做监听</p> <p><strong>端口号的作用，是标示计算机内的某个软件，区分计算机中的每个软件</strong></p></blockquote> <p>可以通过在命令行中运行： <code>netstat -an</code> 命令监视本机端口使用情况</p> <p>在请求网络资源时，默认端口可以省略</p> <blockquote><p>参考链接：</p> <ul><li>https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%8F%A3</li> <li>https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3</li> <li><code>http</code> 默认的端口 <code>80</code></li> <li><code>https</code> 默认的端口是 <code>443</code></li> <li><code>mysql</code> 默认端口是3306</li></ul></blockquote> <h3 id="_4-5-dns"><a href="#_4-5-dns" aria-hidden="true" class="header-anchor">#</a> 4.5 DNS</h3> <p>DNS: Domain Name System  域名系统。在DNS服务器中保存了域名和IP的映射关系。主要工作是将域名转换为IP地址，因为我们通过浏览器访问网站时，实际上是去找对应的IP地址。</p> <table><thead><tr><th>域名</th> <th>IP</th></tr></thead> <tbody><tr><td>baidu.com</td> <td>202.22.35.66</td></tr> <tr><td>sina.com</td> <td>45.22.45.45</td></tr></tbody></table> <p>通过宽带运营商提供的服务器解析一个域名背后对应的 IP，这个过程叫做 <strong>DNS 寻址</strong>，帮你完成 DNS 寻址过程的服务器叫做 <strong>DNS 服务器</strong>。</p> <p>通俗的将，DNS服务器能够通过你输入的域名返回该域名对应的IP。然后我们通过IP去访问网络上的资源。</p> <h4 id="_4-5-1-浏览器dns缓存"><a href="#_4-5-1-浏览器dns缓存" aria-hidden="true" class="header-anchor">#</a> 4.5.1 浏览器DNS缓存</h4> <p>当我们在浏览器输入域名后，浏览器首先并不是向DNS服务器发起请求，解析其对应的IP的，而是先看浏览器缓存中是否有缓存，如果有，则使用缓存中保存的IP去请求网络资源的。</p> <ul><li>windows下查看dns缓存:
<ul><li>ipconfig  /displaydns</li> <li>ipconfig  /displaydns &gt; c:/dnscache.txt   将dns缓存导入到c:/dnscache.txt文件</li></ul></li> <li>windows下清除dns缓存
<ul><li>ipconfig  /flushdns</li></ul></li> <li>清除谷歌浏览器缓存
<ul><li>chrome://net-internals/#dns</li></ul></li></ul> <h4 id="_4-5-2-hosts-文件"><a href="#_4-5-2-hosts-文件" aria-hidden="true" class="header-anchor">#</a> 4.5.2 hosts 文件</h4> <p>操作系统在发起对 DNS 服务器的查询请求之前，会优先检查本机的 hosts 文件。如果这个文件中包含了对当前需要解析的域名的配置，则不再发起对 DNS 服务器的请求，直接使用 hosts 文件中的配置。</p> <p><strong>文件所在路径：</strong></p> <ul><li>Windows：<code>C:\Windows\System32\drivers\etc\hosts</code></li> <li>macOS：<code>/etc/hosts</code></li></ul> <blockquote><p><strong>注意：</strong></p> <ul><li>本机的 hosts 文件配置只能到影响本机的 DNS 寻址</li> <li>只有以管理员权限运行的编辑器才有权利修改 <code>hosts</code> 文件</li></ul></blockquote> <h3 id="_4-6-发起tcp请求"><a href="#_4-6-发起tcp请求" aria-hidden="true" class="header-anchor">#</a> 4.6 发起TCP请求</h3> <p>客户端在向服务器发请求之前，会先向服务器发送TCP请求，过程可以理解为：</p> <ol><li>客户端：hello，你在吗？</li> <li>服务器：嗯，我在</li> <li>客户端：好的，我知道了</li></ol> <p>此过程又称之为客户端和服务器三次握手。</p> <h3 id="_4-7-访问网站时请求响应流程"><a href="#_4-7-访问网站时请求响应流程" aria-hidden="true" class="header-anchor">#</a> 4.7 访问网站时请求响应流程</h3> <p>我们在浏览器输入一个网址后，按下回车，最后看到一个页面，这个过程是怎样的？</p> <ol><li>用户打开浏览器</li> <li>地址栏输入我们需要访问的网站网址（<code>URL</code>）</li> <li>检测浏览器DNS缓存，看是否有域名和IP的对应关系</li> <li>检查本机的 hosts 文件，看是否有域名和IP的对应关系</li> <li>浏览器通过  <code>DNS 服务器</code> 获取即将访问的网站  <code>IP 地址</code></li> <li>进行三次握手</li> <li>浏览器发起一个对这个 IP地址的 <code>请求</code></li> <li>服务端监听指定的 <code>端口</code> 的服务器软件接收到这个请求，<strong>进行相应的处理</strong></li> <li>服务端将处理完的结果返回给客户端浏览器（<code>响应</code>）</li> <li>浏览器将服务端返回的结果呈现到界面上</li></ol> <h3 id="_4-8-c-s-与-b-s"><a href="#_4-8-c-s-与-b-s" aria-hidden="true" class="header-anchor">#</a> 4.8 C/S 与 B/S</h3> <p>应用软件架构一般分为两类：</p> <ul><li>B/S 架构：Browser（浏览器） ←→ Server（服务器），这种软件都是通过浏览器访问一个网站使用，服务器提供数据存储等服务。
<ul><li>优点：简单方便，不用下载软件。网站升级和浏览器没关系</li> <li>缺点：不安全，占用带宽（流量）较少，传输速度比较快。</li></ul></li> <li>C/S 架构：Client（客户端） ←→ Server（服务器），这种软件通过安装一个软件到电脑，然后使用，服务器提供数据存储等服务。
<ul><li>优点：安全，占用带宽（流量）较少，传输速度比较快。</li> <li>缺点：需要下载软件，还要更新客户端</li></ul></li></ul> <h3 id="_4-9-静态网站和动态网站"><a href="#_4-9-静态网站和动态网站" aria-hidden="true" class="header-anchor">#</a> 4.9 静态网站和动态网站</h3> <h4 id="_4-9-1-静态网站"><a href="#_4-9-1-静态网站" aria-hidden="true" class="header-anchor">#</a> 4.9.1 静态网站</h4> <ul><li>Apache 实现的功能，浏览器请求对应的文件 → Apache 负责读取文件 → 将文件内容响应给客户端浏览器</li> <li>Apache 将<strong>网页文件(纯文本)原封不动的返回给浏览器</strong></li> <li><strong>无法满足让网页内容动起来（随着数据动态变化）的需求</strong></li></ul> <h4 id="_4-9-2-动态网站"><a href="#_4-9-2-动态网站" aria-hidden="true" class="header-anchor">#</a> 4.9.2 动态网站</h4> <ul><li>不再将 HTML 固定写死，每次用户请求时，动态执行一段代码，临时生成一个用户想要的 HTML 页面。</li> <li><strong>动态网站指的也就是每次请求时服务端动态生成 HTML 返回给用户的这种网站。</strong></li> <li>实现动态网站的技术有很多，例如：JSP、ASP.NET、PHP、<strong>Node.js</strong> 等等。</li></ul> <p>这里我们选择 Node.js 作为我们了解服务端动态网页开发的技术方案，注意：**我们学习的重心不在 Node.js，而是了解服务端开发，以及某些其他对前端开发有帮助的东西。</p></div> <!----> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/18/2019, 2:26:44 AM</span></div></footer> <!----> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a9f6d8ec.js" defer></script><script src="/assets/js/4.f605a52d.js" defer></script><script src="/assets/js/1.a2510d10.js" defer></script><script src="/assets/js/25.66f6d5cc.js" defer></script>
  </body>
</html>
